# Personalized Travel Planner (Система построения персонализированных маршрутов)

Это веб-приложение для генерации персонализированных маршрутов для путешествий. Пользователь вводит текстовый запрос о своих предпочтениях, а система, используя NLP (обработку естественного языка) и алгоритмы оптимизации, строит детальный маршрут с разбивкой по дням и местам для посещения.

## Основные возможности

-   **Генерация маршрута по текстовому запросу:** Укажите город, интересы, стиль путешествия, бюджет и даты, чтобы получить маршрут.
-   **Персонализация:** Система использует NLP-модели для извлечения интересов и стиля путешествия из запроса.
-   **Страница отзывов:** Пользователи могут оставлять отзывы о местах, которые они посетили в рамках своих маршрутов.
-   **Страница рекомендаций:** Приложение предлагает персонализированные рекомендации мест на основе интересов пользователя.
-   **Редактирование маршрута:** После генерации маршрут можно корректировать: удалять, заменять и добавлять новые точки интереса (POI).
-   **История маршрутов:** Все сгенерированные маршруты сохраняются в истории пользователя.

## Стек технологий

-   **Backend:**
    -   **Язык:** Python 3.12
    -   **Фреймворк:** FastAPI
    -   **База данных:** PostgreSQL
    -   **ORM:** SQLAlchemy
    -   **Миграции:** Alembic
    -   **NLP:** SpaCy, Scikit-learn (для кастомных моделей классификации)
-   **Frontend:**
    -   **Библиотека:** React (с Vite)
    -   **Маршрутизация:** React Router DOM
    -   **Стилизация:** Инлайн-стили и CSS

---

## Установка и запуск проекта

Для запуска проекта необходимо настроить и запустить отдельно Backend и Frontend части.

### Требования

-   Python 3.10+
-   Node.js 16+ и npm (или yarn)
-   PostgreSQL сервер

### 1. Настройка Backend

1.  **Клонируйте репозиторий:**
    ```bash
    git clone https://github.com/ТВОЙ_ЛОГИН/НАЗВАНИЕ_РЕПОЗИТОРИЯ.git
    cd НАЗВАНИЕ_РЕПОЗИТОРИЯ/personalized_travel_routes
    ```

2.  **Создайте и активируйте виртуальное окружение:**
    ```bash
    # Для Windows
    python -m venv venv
    venv\Scripts\activate

    # Для macOS/Linux
    python3 -m venv venv
    source venv/bin/activate
    ```

3.  **Установите зависимости:**
    ```bash
    pip install -r requirements.txt
    ```

4.  **Настройте базу данных PostgreSQL:**
    -   Убедитесь, что у вас запущен PostgreSQL сервер.
    -   Создайте новую базу данных, например, `travel_planner_db`.
    -   Создайте пользователя для этой БД (или используйте существующего).

5.  **Настройте переменные окружения:**
    -   В папке `personalized_travel_routes` создайте файл `.env` (он должен быть в `.gitignore` и не должен попадать в репозиторий).
    -   Скопируйте в него содержимое из примера ниже, заменив значения на свои:
        ```env
        # .env
        DATABASE_URL=postgresql://USER:PASSWORD@HOST:PORT/DB_NAME

        # Пример:
        # DATABASE_URL=postgresql://postgres:mysecretpassword@localhost:5432/travel_planner_db
        ```

6.  **Примените миграции базы данных:**
    -   Убедитесь, что вы находитесь в папке `personalized_travel_routes`. Alembic использует `alembic.ini` из этой папки.
    ```bash
    alembic upgrade head
    ```
    Это создаст все необходимые таблицы в вашей БД.

7.  **(Опционально) Заполните БД начальными данными:**
    -   Для тестирования можно запустить скрипт для заполнения БД тестовыми локациями.
    ```bash
    python database/seed_db.py
    ```

8.  **Запустите Backend сервер:**
    ```bash
    uvicorn app.main:app --reload
    ```
    Сервер будет доступен по адресу `http://127.0.0.1:8000`. Документация API будет доступна по адресу `http://127.0.0.1:8000/docs`.

### 2. Настройка Frontend

1.  **Перейдите в папку `frontend`:**
    ```bash
    # Из корневой папки проекта
    cd frontend
    ```

2.  **Установите зависимости:**
    ```bash
    npm install
    ```

3.  **Настройте переменные окружения для Frontend:**
    -   В папке `frontend` создайте файл `.env.local`.
    -   Добавьте в него URL вашего Backend сервера:
        ```env
        # .env.local
        VITE_APP_API_BASE_URL=http://127.0.0.1:8000
        ```

4.  **Запустите Frontend приложение:**
    ```bash
    npm run dev
    ```
    Приложение будет доступно по адресу `http://localhost:5173` (или другому порту, указанному Vite).

Теперь вы можете открыть `http://localhost:5173` в браузере, зарегистрироваться и начать использовать приложение!

---
